<ion-header>
  <ion-toolbar>
    <button ion-button menuToggle left>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end>
    </ion-buttons>
    <ion-title>heMIgrania</ion-title>
  </ion-toolbar>

</ion-header>

<ion-content padding>
  <!-- This method will save all of the content form -->
  <form [formGroup]="group">
    
    <p>Erfasst du gerade einen Migräneanfall oder allgemeines Unwohlsein?</p>
    <ion-list radio-group [(ngModel)]="situation" name="situation" formControlName="situation">
      <ion-item>
        <ion-label>Migräneanfall</ion-label>
        <ion-radio value="migräneanfall" checked></ion-radio>
      </ion-item>
      <ion-item>
        <ion-label>Unwohlsein</ion-label>
        <ion-radio value="unwohlsein"></ion-radio>
      </ion-item>
    </ion-list>

    <ion-item>
      <ion-label>Symptome</ion-label>
      <ion-select okText="Ok" cancelText="Abbrechen" multiple="true" (ionChange)="onChangeSymptoms()" [(ngModel)]="symptome" name="symptome" formControlName="symptome">
        <ion-option>Tränende Augen</ion-option>
        <ion-option>Rötliche Augen</ion-option>
        <ion-option>Nasenlaufen</ion-option>
        <ion-option>Nasenverstopfung</ion-option>
        <ion-option>Flimmersehen</ion-option>
        <ion-option>Lichtempfindlichkeit</ion-option>
        <ion-option>Lärmempfindlichkeit</ion-option>
        <ion-option>Gefühlsstörung</ion-option>
        <ion-option>Sprachstörung</ion-option>
        <ion-option>Kopfschmerzen</ion-option>
        <ion-option>Andere</ion-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="selectedOther">
      <ion-input placeholder="Andere Symptome" [(ngModel)]="otherSymptom" name="otherSymptom" formControlName="otherSymptom"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Schmerzareal</ion-label>
      <!-- eigentlich "multiple = false" aber es geht nicht dann mit array.find methode dann -->
      <ion-select okText="Ok" cancelText="Abbrechen" multiple="true" [(ngModel)]="painAreal" name="painAreal" formControlName="painAreal">
        <ion-option>Kopf rechtsseitig</ion-option>
        <ion-option>Kopf linksseitig</ion-option>
        <ion-option>Kopf beidseitig</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>Schmerzart</ion-label>
      <!-- eigentlich "multiple = false" aber es geht nicht dann mit array.find methode dann -->
      <ion-select okText="Ok" cancelText="Abbrechen" multiple="true" (ionChange)="onChangePainType()" [(ngModel)]="painType" name="painType" formControlName="painType">
        <ion-option>Stechender Schmerz</ion-option>
        <ion-option>Dumpfer Schmerz</ion-option>
        <ion-option>Andere</ion-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="selectedOther3">
      <ion-input placeholder="Anderer Schmerzart" [(ngModel)]="otherPainType" name="otherPainType" formControlName="otherPainType"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Auslöser</ion-label>
      <ion-select okText="Ok" cancelText="Abbrechen" multiple="true" (ionChange)="onChangeTrigger()" [(ngModel)]="trigger" name="trigger" formControlName="trigger">
        <ion-option>Menstruation</ion-option>
        <ion-option>Stress</ion-option>
        <ion-option>Erholung</ion-option>
        <ion-option>Andere</ion-option>
      </ion-select>
    </ion-item>
    <ion-item *ngIf="selectedOther4">
      <ion-input placeholder="Andere Auslöser"></ion-input>
    </ion-item>


    <p>Dauer des Schmerzes</p>
    <ion-item>
      <ion-label>Von</ion-label>
      <ion-datetime displayFormat="MMM DD, YYYY HH:mm" [(ngModel)]="fromDateTime" name="fromDateTime" formControlName="fromDateTime"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label>Bis</ion-label>
      <ion-datetime displayFormat="MMM DD, YYYY HH:mm" [(ngModel)]="untilDateTime" name="untilDateTime" formControlName="untilDateTime"></ion-datetime>
    </ion-item>

    <p>Stärke des Schmerzes</p>
    <ion-item>
      <ion-range min="0" max="10" step="1" snaps="true" color="secondary" [(ngModel)]="intensity" name="intensity" formControlName="intensity">
        <ion-icon small range-left name="md-happy"></ion-icon>
        <ion-icon range-right name="md-sad"></ion-icon>
      </ion-range>
    </ion-item>


    <ion-searchbar (ionInput)="getItems($event)" [(ngModel)]="medicament" name="medicament" formControlName="medicament"></ion-searchbar>
    <ion-list *ngIf="showList">
      <ion-item *ngFor="let item of items">
        {{ item }}
      </ion-item>
    </ion-list>

    <button ion-button round color="dark">
      <ion-icon name="add-circle"></ion-icon>
    </button>
    <button ion-button round color="dark">
      <ion-icon name="barcode" (click)="scan()"></ion-icon>
    </button>

    <ion-item>
      <ion-input type="number" placeholder="Menge der Tabletten, Tropfen etc." min="0" max="15" [(ngModel)]="menge" name="menge" formControlName="menge"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label>Hat es gewirkt?</ion-label>
      <ion-select okText="Ok" cancelText="Abbrechen" popover [(ngModel)]="medEffect" name="medEffect" formControlName="medEffect">
        <ion-option>Ja</ion-option>
        <ion-option>Nein</ion-option>
        <ion-option>Hat sich verschlimmert</ion-option>
      </ion-select>
    </ion-item>

    <button ion-button round large color="secondary" type="submit" (click)="presentAlert()">
      <ion-icon name="checkmark"></ion-icon>
    </button>

  </form>
</ion-content>
