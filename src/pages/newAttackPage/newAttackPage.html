<ion-header no-border>
  <ion-toolbar>
    <button ion-button menuToggle left>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-buttons end>
    </ion-buttons>
    <ion-title>heMIgrania</ion-title>
  </ion-toolbar>

</ion-header>

<ion-content padding>

  <form [formGroup]="group">

    <ion-card>
      <ion-card-header text-center>
        <h1 style="font-weight: bold; color: white">Was erfasst du gerade?</h1>
      </ion-card-header>
      <ion-list radio-group [(ngModel)]="situation" name="situation" formControlName="situation">
        <div class="Row">
          <div class="Column">
            <ion-item no-lines>
              <ion-label>Migräneanfall</ion-label>
              <ion-radio value="migräneanfall"></ion-radio>
            </ion-item>
          </div>
          <div class="Column">
            <ion-item no-lines>
              <ion-label>Unwohlsein</ion-label>
              <ion-radio value="unwohlsein" class="Column"></ion-radio>
            </ion-item>
          </div>
        </div>
      </ion-list>
    </ion-card>

    <ion-card>
      <ion-card-header text-center>
        <h1 style="font-weight: bold; color: white">Auffälligkeiten</h1>
      </ion-card-header>
      <ion-item no-lines>
        <ion-label>Symptome</ion-label>
        <ion-select okText="Ok" cancelText="Abbrechen" multiple="true" (ionChange)="onChangeSymptoms()" [(ngModel)]="symptome"
          name="symptome" formControlName="symptome">
          <ion-option>Kopfschmerzen</ion-option>
          <ion-option>Tränende Augen</ion-option>
          <ion-option>Rötliche Augen</ion-option>
          <ion-option>Nasenlaufen</ion-option>
          <ion-option>Nasenverstopfung</ion-option>
          <ion-option>Flimmersehen</ion-option>
          <ion-option>Lichtempfindlichkeit</ion-option>
          <ion-option>Lärmempfindlichkeit</ion-option>
          <ion-option>Gefühlsstörung</ion-option>
          <ion-option>Sprachstörung</ion-option>
          <ion-option>Geruchsempfindlichkeit</ion-option>
          <ion-option>Erbrechen</ion-option>
          <ion-option>Andere</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="selectedOther" no-lines>
        <ion-input placeholder="Andere Symptome" [(ngModel)]="otherSymptom" name="otherSymptom" formControlName="otherSymptom"></ion-input>
      </ion-item>

      <ion-item *ngIf="selectedHeadache" no-lines>
        <ion-label>Schmerzareal</ion-label>
        <ion-select okText="Ok" cancelText="Abbrechen" [(ngModel)]="painAreal" name="painAreal" formControlName="painAreal">
          <ion-option>Kopf rechtsseitig</ion-option>
          <ion-option>Kopf linksseitig</ion-option>
          <ion-option>Kopf beidseitig</ion-option>
        </ion-select>
      </ion-item>

      <ion-item *ngIf="selectedHeadache" no-lines>
        <ion-label>Schmerzart</ion-label>
        <ion-select okText="Ok" cancelText="Abbrechen" (ionChange)="onChangePainType()" [(ngModel)]="painType" name="painType"
          formControlName="painType">
          <ion-option>Stechender Schmerz</ion-option>
          <ion-option>Dumpfer Schmerz</ion-option>
          <ion-option>Andere</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="selectedOther3" no-lines>
        <ion-input placeholder="Anderer Schmerzart" [(ngModel)]="otherPainType" name="otherPainType" formControlName="otherPainType"></ion-input>
      </ion-item>

      <ion-item no-lines>
        <ion-label>Auslöser</ion-label>
        <ion-select okText="Ok" cancelText="Abbrechen" multiple="true" (ionChange)="onChangeTrigger()" [(ngModel)]="trigger"
          name="trigger" formControlName="trigger">
          <ion-option>Menstruation</ion-option>
          <ion-option>Stress</ion-option>
          <ion-option>Erholung</ion-option>
          <ion-option>Andere</ion-option>
        </ion-select>
      </ion-item>
      <ion-item *ngIf="selectedOther4" no-lines>
        <ion-input placeholder="Andere Auslöser" [(ngModel)]="otherTrigger" name="otherTrigger" formControlName="otherTrigger"></ion-input>
      </ion-item>
    </ion-card>

    <ion-card *ngIf="selectedHeadache">
      <ion-card-header text-center>
        <h1 style="font-weight: bold; color: white">Dauer des Schmerzes</h1>
      </ion-card-header>
      <ion-item no-lines>
        <ion-label>Von</ion-label>
        <ion-datetime displayFormat="MMM DD, YYYY HH:mm" [(ngModel)]="fromDateTime" name="fromDateTime" formControlName="fromDateTime"></ion-datetime>
      </ion-item>
      <ion-item no-lines>
        <ion-label>Bis</ion-label>
        <ion-datetime displayFormat="MMM DD, YYYY HH:mm" [(ngModel)]="untilDateTime" name="untilDateTime"
          formControlName="untilDateTime"></ion-datetime>
      </ion-item>

      <ion-item no-lines>
        <ion-label>Stärke des Schmerzes</ion-label>
        <ion-range min="0" max="10" step="1" snaps="true" color="secondary" [(ngModel)]="intensity" name="intensity"
          formControlName="intensity">
          <ion-icon small range-left name="md-happy"></ion-icon>
          <ion-icon range-right name="md-sad"></ion-icon>
        </ion-range>
      </ion-item>
    </ion-card>

    <ion-card>
      <ion-card-header text-center>
        <h1 style="font-weight: bold; color: white">Medikamente</h1>
      </ion-card-header>
      <ion-card-content style="background-color: white">
        <div class="Row">
          <div class="Column">
            <button ion-button color="light">
              <ion-icon name="barcode" (click)="scan()" style="color: black !important"></ion-icon>
            </button>
          </div>

          <div class="Column">
            <ion-searchbar (ionInput)="getItems($event)" [(ngModel)]="medicament" name="medicament" formControlName="medicament"></ion-searchbar>
            <ion-list *ngIf="showList">
              <ion-item *ngFor="let item of items">
                {{ item }}
              </ion-item>
            </ion-list>
          </div>
        </div>

        <ion-label style="font-size: 16px">Anzahl Tabletten oder Tropfen</ion-label>
        <div class="Row">
          <div class="Column">
            <ion-item no-lines>
              <ion-input type="number" min="1" max="15" [(ngModel)]="menge" name="menge" formControlName="menge"></ion-input>
            </ion-item>
          </div>

          <div class="Column">
            <ion-item no-lines>
              <ion-label>Hat es gewirkt?</ion-label>
              <ion-select okText="Ok" cancelText="Abbrechen" [(ngModel)]="medEffect" name="medEffect" formControlName="medEffect">
                <ion-option>Ja</ion-option>
                <ion-option>Nein</ion-option>
                <ion-option>Hat sich verschlimmert</ion-option>
              </ion-select>
            </ion-item>
          </div>
        </div>

        <button ion-button color="light" (click)="addMedicament()">
          <ion-icon name="add-circle"></ion-icon>
        </button>
      </ion-card-content>
    </ion-card>

    <div text-center>
      <button ion-button round large color="secondary" type="submit" (click)="presentAlert()">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </div>

  </form>
</ion-content>
